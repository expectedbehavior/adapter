{"name":"Adapter","tagline":"A simple interface to anything.","body":"# Adapter\r\n\r\nA simple interface to anything.\r\n\r\n## Defining an Adapter\r\n\r\nAn adapter requires 4 methods to work: read, write, delete and clear.\r\n\r\n```ruby\r\nAdapter.define(:memory) do\r\n  def read(key, options = nil)\r\n    client[key]\r\n  end\r\n\r\n  def write(key, attributes, options = nil)\r\n    client[key] = attributes\r\n  end\r\n\r\n  def delete(key, options = nil)\r\n    client.delete(key)\r\n  end\r\n\r\n  def clear(options = nil)\r\n    client.clear\r\n  end\r\nend\r\n```\r\n\r\nNote: in order for things to be most flexible, always wrap key with key_for(key) which will ensure that pretty much anything can be a key. Also, by default encode and decode are included and they Marshal.dump and Marshal.load. Feel free to override these if you prefer JSON serialization or something else.\r\n\r\nOnce you have defined an adapter, you can get a class of that adapter like this:\r\n\r\n```ruby\r\nAdapter[:memory]\r\n```\r\n\r\nThis returns a dynamic class with your adapting methods included and an initialize method that takes a client. This means you can get an instance of the adapter by using new and passing the client (in this instance a boring hash):\r\n\r\n```ruby\r\nadapter = Adapter[:memory].new({}) # sets {} to client\r\nadapter.write('foo', 'bar')\r\nadapter.read('foo') # 'bar'\r\nadapter.delete('foo')\r\nadapter.fetch('foo', 'bar') # returns bar and sets foo to bar\r\n```\r\n\r\nNote: You can also optionally provide a lock method. [Read More](https://github.com/jnunemaker/adapter/wiki/Locking)\r\n\r\n## Adapter Power User Guides\r\n\r\n* [Wiki Home](https://github.com/jnunemaker/adapter/wiki)\r\n* [Creating an Adapter](https://github.com/jnunemaker/adapter/wiki/Creating-an-Adapter)\r\n* [Overriding an Adapter](https://github.com/jnunemaker/adapter/wiki/Overriding-an-Adapter)\r\n* [Allowing for Options](https://github.com/jnunemaker/adapter/wiki/Allowing-for-Options)\r\n* [Adapter defaults](https://github.com/jnunemaker/adapter/wiki/Adapter-defaults)\r\n\r\n## Mailing List\r\n\r\nhttps://groups.google.com/forum/#!forum/toystoreadapter\r\n\r\n## Note on Patches/Pull Requests\r\n\r\n* Fork the project.\r\n* Make your feature addition or bug fix in a topic branch.\r\n* Add tests for it. This is important so we don't break it in a future version unintentionally.\r\n* Commit, do not mess with rakefile, version, or history. (if you want to have your own version, that is fine, but bump version in a commit by itself so we can ignore when we pull)\r\n* Send a pull request.\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}